{
  "schemaVersion": "1.0.0",
  "run": {
    "utcTimestamp": "2026-02-13T05:15:57.2032048Z",
    "repository": "xfaith4/genesys-contract-client",
    "branch": "copilot/run-baseline-harding-pass",
    "commitSha": "1ddddfe4b12ac035f8debb2b71ed7ea963299959",
    "actor": "copilot-swe-agent[bot]",
    "environment": {
      "os": "Ubuntu 24.04.3 LTS",
      "pwsh": "7.4.13",
      "node": "v24.13.0",
      "python": "Python 3.12.3"
    }
  },
  "summary": {
    "status": "pass",
    "totalChecks": 2,
    "passedChecks": 2,
    "failedChecks": 0,
    "durationSeconds": 11.639
  },
  "commands": [
    {
      "command": "pwsh -File tests/Genesys.ContractClient.Tests.ps1",
      "cwd": "/home/runner/work/genesys-contract-client/genesys-contract-client",
      "exitCode": 0,
      "durationMs": 6624,
      "stdoutExcerpt": "Starting discovery in 1 files. Discovery found 4 tests in 1.9s. Running tests. [+] /home/runner/work/genesys-contract-client/genesys-contract-client/tests/Genesys.ContractClient.Tests.ps1 2.43s (260ms|292ms) Tests completed in 2.44s Tests Passed: 4, Failed: 0, Skipped: 0, Inconclusive: 0, NotRun: 0",
      "stderrExcerpt": ""
    },
    {
      "command": "pwsh -NoLogo -NoProfile -Command \"Set-Location src/mcp-server; npm test\"",
      "cwd": "/home/runner/work/genesys-contract-client/genesys-contract-client",
      "exitCode": 0,
      "durationMs": 4973,
      "stdoutExcerpt": "> genesys-contract-client-mcp@0.1.0 test\n> npm run build && node scripts/run-node-tests.mjs\n\n> genesys-contract-client-mcp@0.1.0 build\n> tsc -p tsconfig.json\n\n✔ summarizeRequest logs allowlisted fields and omits everything else (2.84ms)\n✔ redactForLog masks nested secret fields (0.34ms)\n✔ schema validator enforces oneOf semantics (21.73ms)\n✔ schema validator enforces anyOf semantics (4.63ms)\n✔ schema validator preserves allOf merge behavior (5.88ms)\n✔ schema validator rejects unknown properties in strict mode (2.20ms)\n✔ MCP Streamable HTTP server exposes required tools and executes searchOperations (151.81ms)\n✔ legacy HTTP endpoints are disabled by default (955.39ms)\n✔ legacy HTTP mode enforces X-Server-Key when enabled (918.04ms)\ntests 9, pass 9, fail 0\n\nException in PromiseRejectCallback: RangeError: Maximum call stack size exceeded (in @modelcontextprotocol/sdk cleanup)",
      "stderrExcerpt": ""
    }
  ],
  "findings": [
    {
      "severity": "High",
      "title": "Unhandled Promise Rejections in MCP SDK During Test Cleanup",
      "details": "Multiple RangeError: Maximum call stack size exceeded exceptions occur in @modelcontextprotocol/sdk v1.26.0 during test cleanup after all test assertions pass. This is in the SDK's internal cleanup logic (webStandardStreamableHttp.js:620). Tests complete successfully but unhandled promise rejections indicate potential resource cleanup issues.",
      "status": "accepted-risk",
      "file": "node_modules/@modelcontextprotocol/sdk/dist/esm/server/webStandardStreamableHttp.js",
      "line": 620,
      "evidenceRef": "reports/test-runs/20260213T051557Z-cmd-02.log"
    }
  ],
  "evidence": [
    {
      "type": "log",
      "path": "reports/test-runs/20260213T051557Z-cmd-01.log",
      "description": "PowerShell contract test log - 4 tests passed"
    },
    {
      "type": "log",
      "path": "reports/test-runs/20260213T051557Z-cmd-02.log",
      "description": "MCP server test log - 9 tests passed with stack overflow traces during cleanup"
    },
    {
      "type": "report",
      "path": "reports/test-runs/20260213T051557Z-report.json",
      "description": "Machine-readable test run report (original)"
    },
    {
      "type": "report",
      "path": "reports/test-runs/20260213T051557Z-report.md",
      "description": "Human-readable summary report (original)"
    },
    {
      "type": "report",
      "path": "reports/test-runs/20260213T051557Z-report-enhanced.json",
      "description": "Enhanced machine-readable report with detailed findings"
    },
    {
      "type": "report",
      "path": "reports/test-runs/20260213T051557Z-findings-summary.md",
      "description": "Comprehensive findings summary with severity rankings and recommendations"
    }
  ],
  "residualRisks": [
    "Live Genesys API validation skipped (COPILOT_GENESYS_ENV not set to sandbox)",
    "MCP SDK v1.26.0 unhandled promise rejections - requires upstream fix or version evaluation",
    "Pagination types NEXT_URI, CURSOR, PAGE_NUMBER, etc. not explicitly tested in baseline pass",
    "Catalog generation drift check not performed (no swagger changes detected)"
  ]
}
